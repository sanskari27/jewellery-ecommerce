import{u as R,a as S,k as v,b,S as N,r as p,W as U,$ as w,X as k,a4 as y,H as I,J as D,j as e,F as h,N as c,a5 as E,a6 as F,a7 as O,a0 as t,Z as x,a8 as B,a9 as A}from"./index-c8a2b0d9.js";import{b as H}from"./index.esm-ffa98c48.js";import{c as L,d as _}from"./index.esm-c7a3e4c3.js";import{E as M}from"./Each-bea6588f.js";import{H as J}from"./chunk-7OLJDQMT-e46d341f.js";import{B as V}from"./chunk-DA7QIPTJ-0325bcd5.js";import{B as d}from"./chunk-UVUR7MCU-52014813.js";import{B as W}from"./chunk-PULVB27S-5c8c41c1.js";import{F as X}from"./chunk-56K2BSAJ-c484cfc7.js";import{F as Z}from"./chunk-H46NUPBZ-dd69c2b8.js";import{I as $}from"./chunk-6CVSDS6C-2aa348d8.js";import{T as q,a as z,b as K,c as f,d as l,e as Q,f as m}from"./chunk-MGVPL3OH-a6133c63.js";import{C as Y}from"./chunk-CWVAJCXJ-c2df9ed2.js";import"./iconBase-bb05031b.js";import"./index-2842c37b.js";import"./chunk-7D6N5TE5-e13f872c.js";const fe=()=>{const s=R(),r=S(),{id:o}=v(),{list:g,selectedProductGroup:{name:i,productCodes:n},uiDetails:{isCreating:j,isSaving:u}}=b(a=>a[N.PRODUCTS]),C=async()=>{r(t(!0));const a=await x.createProductGroup({name:i,productCodes:n});if(!a)return r(t(!1)),alert("Error Creating Product Recommendations");r(B(a)),s(c.PRODUCT_GROUP),r(t(!1))},P=async()=>{if(!o)return alert("Something went wrong. Please reload the page.");r(t(!0));const a=await x.updateProductGroup(o,{name:i,productCodes:n});if(!a)return r(t(!1)),alert("Error Updating Product Recommendations");r(A(a)),s(c.PRODUCT_GROUP),r(t(!1))};return p.useEffect(()=>{if(r(U()),!o){r(w(!0));return}r(k(!0)),r(y(o))},[r,o]),p.useEffect(()=>(I({title:"Create Recommendations"}),()=>{D()}),[]),e.jsxs(h,{direction:"column",padding:"1rem",justifyContent:"start",children:[e.jsx(J,{color:"black",children:e.jsxs(h,{width:"98%",justifyContent:"space-between",alignItems:"flex-end",children:["Create Recommendations Group",e.jsxs(V,{alignSelf:"end",children:[e.jsx(d,{variant:"outline",colorScheme:"red",leftIcon:e.jsx(L,{}),onClick:()=>s(c.PRODUCT_GROUP),children:"Discard"}),j?e.jsx(d,{variant:"outline",colorScheme:"green",leftIcon:e.jsx(H,{}),isLoading:u,onClick:C,children:"Create"}):e.jsx(d,{variant:"outline",colorScheme:"green",leftIcon:e.jsx(_,{}),isLoading:u,onClick:P,children:"Update"})]})]})}),e.jsxs(W,{marginTop:"1rem",width:"98%",pb:"5rem",children:[e.jsxs(X,{children:[e.jsx(Z,{children:"Group Name"}),e.jsx($,{marginTop:"-0.25rem",type:"text",placeholder:"Recommendation Group For Rings",value:i,onChange:a=>r(E(a.target.value))})]}),e.jsx(q,{pt:"0.5rem",textColor:"black",children:e.jsxs(z,{children:[e.jsx(K,{children:e.jsxs(f,{children:[e.jsx(l,{color:"gray",width:"5%",children:"Sl no"}),e.jsx(l,{color:"gray",width:"75%",children:"Name"}),e.jsx(l,{color:"gray",width:"20%",isNumeric:!0,children:"Price"})]})}),e.jsx(Q,{children:e.jsx(M,{items:g,render:(a,T)=>e.jsxs(f,{verticalAlign:"middle",cursor:"pointer",children:[e.jsxs(m,{children:[e.jsx(Y,{mr:"1rem",isChecked:n.includes(a.productCode),onChange:G=>{G.target.checked?r(F(a.productCode)):r(O(a.productCode))},colorScheme:"green"}),T+1,"."]}),e.jsx(m,{children:a.name}),e.jsx(m,{isNumeric:!0,children:a.price})]})})})]})})]})]})};export{fe as default};
