import{r as n,u as A,j as e,N as M,H as v,J as S,F as E}from"./index-c8a2b0d9.js";import{a as P}from"./index.esm-ac129e67.js";import{C as D}from"./cart.service-fe95de91.js";import{L as p}from"./index-82be7f2d.js";import{E as g}from"./Each-bea6588f.js";import{u as I}from"./chunk-7JBTTEVG-922d6925.js";import{M as k,a as L,b as _,d as H,c as O,e as B}from"./chunk-4FCEGNGT-7162d099.js";import{H as u}from"./chunk-3ASUQ6PA-a2d24c74.js";import{T as o}from"./chunk-2OOHT3W5-e661ad39.js";import{B as f}from"./chunk-PULVB27S-5c8c41c1.js";import{T as w,a as y,b as C,c as h,d as i,e as T,f as t}from"./chunk-MGVPL3OH-a6133c63.js";import"./iconBase-bb05031b.js";import"./index-2842c37b.js";import"./chunk-ZHMYA64R-dc276fff.js";const F=n.forwardRef((x,m)=>{const d=A(),{isOpen:a,onOpen:j,onClose:c}=I(),[s,l]=n.useState(null),N=(r,b)=>{d(`${M.PRODUCT}/${r}/edit/${b}`)};return n.useImperativeHandle(m,()=>({open:r=>{l(r),j()},close:()=>c()})),s?e.jsxs(k,{isOpen:a,onClose:c,size:"6xl",children:[e.jsx(L,{}),e.jsxs(_,{children:[e.jsx(H,{}),e.jsx(O,{children:"Cart Details"}),e.jsxs(B,{children:[e.jsxs(u,{alignItems:"center",children:[e.jsx(o,{width:"100px",children:"Name"}),e.jsx(o,{fontWeight:"medium",children:s.user.name||"N/A"})]}),e.jsxs(u,{alignItems:"center",marginTop:"0.5rem",children:[e.jsx(o,{width:"100px",children:"Phone"}),e.jsx(o,{fontWeight:"medium",children:s.user.phone||"N/A"})]}),e.jsxs(u,{alignItems:"center",marginTop:"0.5rem",children:[e.jsx(o,{width:"100px",children:"Email"}),e.jsx(o,{fontWeight:"medium",children:s.user.email||"N/A"})]}),e.jsx(f,{marginTop:"1rem",width:"98%",pb:"5rem",children:e.jsx(w,{pt:"0.5rem",textColor:"black",children:e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(i,{color:"gray",width:"15%",children:"Product Code"}),e.jsx(i,{color:"gray",width:"40%",children:"Product Name"}),e.jsx(i,{color:"gray",width:"7%",children:"Metal Type"}),e.jsx(i,{color:"gray",width:"7%",children:"Metal Color"}),e.jsx(i,{color:"gray",width:"7%",children:"Metal Purity"}),e.jsx(i,{color:"gray",width:"7%",children:"Diamond Type"}),e.jsx(i,{color:"gray",width:"7%",children:"Size"}),e.jsx(i,{color:"gray",width:"10%",isNumeric:!0,children:"Price"})]})}),e.jsx(T,{children:e.jsx(g,{items:s.cartItems,render:r=>e.jsxs(h,{verticalAlign:"middle",cursor:"pointer",onClick:()=>N(r.productCode,r.product_id),children:[e.jsx(t,{width:"15%",children:r.productCode}),e.jsx(t,{width:"40%",children:r.name}),e.jsx(t,{width:"7%",children:r.metal_type}),e.jsx(t,{width:"7%",children:r.metal_color}),e.jsx(t,{width:"7%",children:r.metal_quality}),e.jsx(t,{width:"7%",children:r.diamond_type}),e.jsx(t,{width:"7%",children:r.size}),e.jsx(t,{width:"10%",isNumeric:!0,children:r.price})]})})})]})})})]})]})]}):e.jsx(p,{isLoaded:!a||!1})}),ee=()=>{const x=n.useRef(null),[m,d]=n.useState(!0),[a,j]=n.useState([]);n.useEffect(()=>{d(!0),D.abandonedCarts().then(j).finally(()=>d(!1))},[]);const c=s=>{var l;(l=x.current)==null||l.open(s)};return n.useEffect(()=>(v({title:"Abandoned Carts",icon:P}),()=>{S()}),[]),e.jsxs(E,{direction:"column",padding:"1rem",justifyContent:"start",children:[e.jsx(p,{isLoaded:!m}),e.jsxs(f,{width:"98%",pb:"5rem",children:[e.jsxs(o,{textAlign:"right",color:"black",children:[a.length," records found."]}),e.jsx(w,{pt:"0.5rem",textColor:"black",children:e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(i,{color:"gray",width:"5%",children:"Sl no"}),e.jsx(i,{color:"gray",width:"25%",children:"Name"}),e.jsx(i,{color:"gray",width:"25%",children:"Phone"}),e.jsx(i,{color:"gray",width:"25%",children:"Email"}),e.jsx(i,{color:"gray",width:"20%",isNumeric:!0,children:"Amount"})]})}),e.jsx(T,{children:e.jsx(g,{items:a,render:(s,l)=>e.jsxs(h,{verticalAlign:"middle",cursor:"pointer",onClick:()=>c(s),children:[e.jsxs(t,{children:[l+1,"."]}),e.jsx(t,{children:s.user.name}),e.jsx(t,{children:s.user.phone}),e.jsx(t,{children:s.user.email}),e.jsx(t,{isNumeric:!0,children:s.grossAmount})]})})})]})})]}),e.jsx(F,{ref:x})]})};export{ee as default};
